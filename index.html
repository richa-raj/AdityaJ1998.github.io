<!DOCTYPE html>
<head>
<title>Binge-Again</title>


<link rel="stylesheet" type="text/css"  href="css/bootstrap.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" type="text/css"  href="css/style.css">
<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Rochester" rel="stylesheet">


<style>
.item{
  height: 500px;
  width: 100%;
}
.center-block {
   margin-left:auto;
   margin-right:auto;
   display:block;
}
</style>

</head>
<body id="page-top" data-spy="scroll" data-target="navbar-fixed-top">
<nav id="menu" class="navbar navbar-default navbar-fixed-top">
  <div class="container"> 
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#features" class="page-scroll" style="color:black">Specials</a></li>
        <li><a href="#suggestion" class="page-scroll" style="color:black">Recipe Suggestions</a></li>
        <li><a href="#contact" class="page-scroll" style="color:black">Contact Us</a></li>
      </ul>
    </div>
  </div>
</nav>
<!-- Header -->
<header id="header">
  <div class="intro">
    <div class="overlay">
      <div class="container">
        <div class="row">
          <div class="intro-text text-center">
            <center>
              <h1>Binge-Again</h1>
            </center>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Features Section -->

<div id="features" class="text-center">
  <div class="container">
    <div class="section-title">
      <h2>Todays Specials</h2>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>RED VELVET CAKE</h3>
          <img src="thYKTSCD4P.jpg" class="img-responsive" alt="">
          <p>The Most Amazing Red Velvet Cake recipe is moist, fluffy, and has the perfect balance between acidity and chocolate. Top it off with cream cheeses frosting for the perfect Red Velvet Cake you've been dreaming of!</p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>WHITE SAUCE PASTA</h3>
          <img src="thG0MYQ6C8.jpg" class="img-responsive" alt="">
          <p>Enjoy the penne pasta tossed in white sauce in this delightful Penne in white sauce recipe. The penne pasta is prepared and then enrobed in a creamy freshly made white sauce and enjoyed as a main course meal with soups.</p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3> CHICKEN HALEEM </h3>
          <img src="thAD66I7TO.jpg" class="img-responsive" alt="">
          <p>Haleem is a stew popular in the Middle East, Central Asia, and the Indian subcontinent. Although the dish varies from region to region, it always includes wheat or barley, and sometimes meat and/or lentils..</p>
        </div>
      </div>
    </div>
<div class="row">
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>CLASSIC ITALIAN LASAGNA</h3>
          <img src="th6P533HNZ.jpg" class="img-responsive" alt="">
        <p>There is nothing timid about the flavors of this meaty lasagna. Hot Italian sausages are sandwiched between layers of ricotta, provolone and mozzarella cheeses, and embellished with a long-simmered tomato sauce seasoned with bacon and fennel... Homemade Italian Lasagna, made with homemade sauce, and filled with ricotta cheese, Italian sausage, and lots of cheese. Serve with crusty Italian bread.</p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>BLUEBERRY CHEESE CAKE</h3>
          <img src="thBYC3X1VI.jpg" class="img-responsive" alt="">
          <p>This light and creamy cheesecake sits on top of a biscuit layer and is topped by layer of blueberries. The whole combination of the smooth cheesecake, crunchy biscuits and the gooey blueberries.</p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>Stir-fried Exotic Oriental Vegetables </h3>
          <img src="thZ6ZSOPZN.jpg" class="img-responsive" alt="">
          <p>Stir-fried Exotic Oriental Vegetables is an easy and healthy recipe for your day-to-day nutrition needs. Stir-fry can be your favourite pick when it comes to quick yet healthy dinners. This Chinese recipe is a smart and tasty way to make your fussy kids eat vegetables. This lip-smacking side dish recipe can be served at your next dinner party, kitty party or potluck. 
        </div>
      </div>
    </div>
<div class="row">
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>PAV BHAJI</h3>
          <img src="thLMRWD99X.jpg" class="img-responsive" alt="">
          <p>Pav Bhaji is a simple and easy to make Indian snack dish. This popular dish actually falls into the category of fast food and was first introduced as a lunch meal in Mumbai in the 1850s. Available in many varieties, this Maharashtrian dish can be easily made at home. </p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>CHICKEN TANDOORI MOMO</h3>
          <img src="thILNTD5JU.jpg" class="img-responsive" alt="">
          <p>Tandoori Chicken Momos Recipe is a chatpata masaledar momo recipe. A fusion Indo-Chinese recipe, where shredded chicken tikka is filled in thin sheets of the momo skin, pleated and steamed.</p>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="features-item">
          <h3>SPRING ROLL</h3>
          <img src="untitled.png" class="img-responsive" alt="">
          <p>Spring rolls are a large variety of filled, rolled appetizers or dim sum found in East Asian, South Asian, and Southeast Asian cuisine. The name is a literal translation of the Chinese chūn juǎn. The kind of wrapper, fillings, and cooking technique used, as well as the name, vary considerably within this large area, depending on the region's culture.</p>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Suggestion Area -->


<div class="container-fluid" style = "padding: 20px;background-color: #E8E8E8" id = "suggestion">
    <div class="section-title text-center" style = "margin-bottom: 30px">
      <h2>Recipe Suggestions</h2>
    </div>
  <div class = "row">
    <div class = "offset-md-1 col-md-4">
      <div class="card" style="width:500px">
        <img class="card-img-top" src="download.jpg" alt="Card image" style="width:100%;height:250px">
        <div class="card-body" style="border-style: 1px solid black margin-bottom:100px">
          <input type="text" class="form-control" placeholder="Comma Separated Ingredients" aria-label="Username" aria-describedby="basic-addon1" style = "margin-top: 10px" id="search1">
        
          <button href="" class="btn btn-primary" style = "margin-top: 10px" onclick="showDrop()">Click Here For Videos</button>
           <br>
        </div>
      </div>
    </div>
    <span>
    </span>
    <div class = "offset-md-2 col-md-3">
      <div class="card" style="width:500px">
        <img class="card-img-top" src="images12.png" alt="Card image" style="width:100%;height:250px">
        <div class="card-body" style="border-style: 1px solid black">
          <input type="text" class="form-control" placeholder="Comma Separated Ingredients" aria-label="Username" aria-describedby="basic-addon1" style = "margin-top: 10px" id = "search2">
          <button href="" class="btn btn-primary" style = "margin-top: 10px" onclick="showDrop2()" >Click Here For Steps</button>
           <br>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Dropdown Section 1 -->

<div id = "dropVideo"></div>


<!-- Dropdown Section 2 -->
<div id = "dropVideo2"></div>


<!-- Contact Section -->
<div id="contact" class="text-center" style = "height:200px;margin-top: 50px;margin-bottom: 50px;padding-top:20px">
  <div class="container text-center">
    <div class="col-md-6">
      <h3>Contact</h3>
      <div class="contact-item">
        <p>Please call</p>
        <p>9939240767</p>
      </div>
    </div>
    <div class="col-md-6">
      <h3>Address</h3>
      <div class="contact-item">
        <p>Backpackers Hive</p>
        <p>Pune,India</p>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="js/jquery.1.11.1.js"></script> 
<script type="text/javascript" src="js/bootstrap.js"></script> 
<script type="text/javascript" src="js/SmoothScroll.js"></script> 
<script type="text/javascript" src="js/jqBootstrapValidation.js"></script> 
<script type="text/javascript" src="js/contact_me.js"></script> 
<script type="text/javascript" src="js/main.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
<script>

  function strip(str) {
    return str.replace(/^\s+|\s+$/g, '');
  }

  function showDrop(){
    let a = document.getElementById("search1").value;
    //console.log(a);
    let b = a.split(",");
    //console.log(b);
    let c = "";
    for(let d = 0 ; d < b.length - 1; d++){
      c = c + b[d] + "+";
    }
    //console.log(c);
    c = c + b[b.length-1] + "+";
    //console.log(c);
    c = c + "recipe";
    //console.log(c);
    var r,s,t,o;
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function(){
      if(this.readyState == 4 && this.status == 200){
        o = JSON.parse(xhttp.responseText);
        console.log(o);
        r = o.items[0].id.videoId;
        console.log(r);
        s = o.items[1].id.videoId;
        //console.log(s);
        t = o.items[2].id.videoId;
        //console.log(t);
        var x = `<div class = "container">
                    <div class="section-title text-center" style = "margin-bottom: 30px">
                      <h2>Video Suggestions</h2>
                    </div>
                    <div id="myCarousel" class="carousel slide" >
                      <div class="carousel-inner" style = "margin-top : 100px;margin-bottom: 100px">
                        <div class="item active">
                          <iframe id="if1" src = "" style = "height:100%;width:100%"></iframe>
                        </div>
                        <div class="item">
                          <iframe id="if2" src="" alt="Chicago" style = "width:100%;height:100%"></iframe>
                        </div>
                        <div class="item">
                          <iframe id="if3" src="" alt="New York" style = "width:100%;height:100%"></iframe>
                        </div>
                      </div>
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                  <span class="glyphicon glyphicon-chevron-left"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            </div>`;
        document.getElementById("dropVideo").innerHTML = x;
        document.getElementById("if1").src="https://www.youtube.com/embed/" + r;
        document.getElementById("if2").src="https://www.youtube.com/embed/" + s;
        document.getElementById("if3").src="https://www.youtube.com/embed/" + t;
          }
        };
        xhttp.open(
          "GET",
          "https://www.googleapis.com/youtube/v3/search?part=snippet&q=" + c + "&type=video&key=AIzaSyCZ_5XgAG57bTv3FiIB97bBNFvEvASW7G0",
          true  
        );
        xhttp.send();
        
        };


  function showDrop2(){
        let a = document.getElementById("search2").value;
        console.log(a);
        var o,firstDish,secondDish,thirdDish,fisrtLink,secondLink,thirdLink,size;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function(){
          if(this.readyState == 4 && this.status == 200){
              o = JSON.parse(xhttp.responseText);
              console.log(o);

              size = o.results.length;
              console.log(size);

              if(size == 0 || size == 1 || size == 2){
                var z = `<div class="container-fluid" style = "padding: 20px;background-color: #E8E8E8" id = "drop2">
                <center><h1>No recipes with following ingredients found ! Try refreshing the page and searching again. :)</h1></center></div>`
                document.getElementById("dropVideo2").innerHTML = z;
              } 
          else{
              
               fisrtLink = o.results[0].href;
               secondLink = o.results[1].href;
               thirdLink = o.results[2].href;
            

              firstDish = o.results[0].title;
              secondDish = o.results[1].title;
              thirdDish = o.results[2].title;

              firstDish = strip(firstDish);
              secondDish = strip(secondDish);
              thirdDish = strip(thirdDish);

              var y = `<div class="container-fluid" style = "padding: 20px;background-color: #E8E8E8" id = "drop2">
                <div class="section-title text-center" style = "margin-bottom: 30px">
                  <h2>Instructions</h2>
                </div>
              <div class = "row">
                <div class = "col-md-4">
                  <div class="card">
                      <div class="card-body">
                        <h1 id="head1" class = "text-center"></h1>
                        <button class="btn btn-success center-block" style = "margin-top: 10px"><a id = "link1"><h2 style = "font-size:15px">Explore</h2></a></button>
                   <br>
                </div>
              </div>
            </div>
            <span>
            </span>
            <div class = "col-md-4">
              <div class="card">
                <div class="card-body">
                  <h1 id = "head2" class = "text-center"></h1>
                
                  <button href="" class="btn btn-warning center-block" style = "margin-top: 10px "><a id = "link2"><h2 style = "font-size:15px">Explore</h2></a></button>
                   <br>
                </div>
              </div>
            </div>
            <span></span>
            <div class = "col-md-4">
              <div class="card">
                <div class="card-body">
                  <h1 id = "head3" class = "text-center"></h1>
                
                  <button href="" class="btn btn-info center-block" style = "margin-top: 10px"><a id = "link3"><h2 style = "font-size:15px">Explore</h2></a></button>
                   <br>
                </div>
              </div>
            </div>
          </div>
        </div>`

          document.getElementById("dropVideo2").innerHTML = y;  
          document.getElementById("head1").innerText=firstDish;
          document.getElementById("head2").innerText=secondDish;
          document.getElementById("head3").innerText=thirdDish;

          document.getElementById("link1").href=fisrtLink;
          document.getElementById("link2").href=secondLink;
          document.getElementById("link3").href=thirdLink;
        }
        }
      };
        xhttp.open(
          "GET",
          "https://cors-escape.herokuapp.com/" + "http://www.recipepuppy.com/api/?i=" + a + "&q=&p=1",
          true  
        );
        xhttp.send();
    };

</script>
</html>